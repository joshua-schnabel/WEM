<template>
  <div class="row row-mt-2">
    <div class="col-12 main-content p-5 fw-bolder">
      <div class="container-fluid">
        <div class="row">
          <div class="col">
            <h1>G<u>ästebereich&nbsp;</u></h1>
            <p>Liebe Gäste,</p>
            <p>wir freuen uns, dass ihr hier seid und mit uns diesen besonderen Tag feiern werdet. Auf dieser Seite findet
              ihr alle wichtigen Details zur Hochzeit, damit ihr bestens informiert seid. Wir können es kaum erwarten,
              diesen besonderen Moment mit euch zu teilen und freuen uns auf unvergessliche Erinnerungen.</p>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <nav class="nav inner-nav sticky-top">
              <a class="nav-link" aria-current="page" href="#Rückmeldung">Rückmeldung</a>
              <a class="nav-link" aria-current="page" href="#Zeitplan">Zeitplan</a>
              <a class="nav-link" aria-current="page" href="#Anfahrt">Anfahrt</a>
              <a class="nav-link" aria-current="page" href="#Bilder">Bilder</a>
              <a class="nav-link" aria-current="page" href="#FAQ">FAQ</a>
            </nav>
          </div>
          <a id="Rückmeldung"></a>
        </div>
        <div class="row pt-5">
          <div class="col">
            <h2>Rückmeldung</h2>
            <p>
              Wir freuen uns sehr, euch auf unserer Hochzeit begrüßen zu dürfen. Bitte gebt uns bis zum <u>1. Juni</u>
              Bescheid,
              ob ihr dabei sein
              werdet, damit wir alles Weitere planen können.
              Bitte nutzt dafür die Rückmeldungsfunktion auf unserer Hochzeitswebsite und teilt uns mit, mit wie vielen
              Personen ihr kommt und ob ihr an vegetarischen oder speziellen Gerichten interessiert seid.
            </p>
            <div class="upload-button-container">
              <a href="https://cloud.1js.de/s/a34GNymKSD3D66Z" target="_blank" type="button"
                class="btn btn-primary btn-lg">Jetzt zurückmelden!</a>
            </div>
          </div>
          <a id="Zeitplan"></a>
        </div>
        <div class="row pt-5">
          <div class="col">
            <h2>Zeitplan</h2>
            <div class="timeline">
              <div class="container-fluid">
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          13:30
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Taruung im Dieterskirchel</h3>
                      <p>Wir freuen uns darauf, unsere Hochzeit mit einer feierlichen Taruung im Dieterskirchel zu
                        beginnen. Hier möchten wir unseren Bund fürs Leben besiegeln und gemeinsam mit euch diesen
                        besonderen Moment erleben.</p>
                    </div>
                  </div>
                </div>
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          14:30
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Gruppenfotos</h3>
                      <p>Nach der Taruung möchten wir mit euch Gruppenfotos machen, um diesen Moment für immer
                        festzuhalten. Lasst uns gemeinsam lächeln und für unvergessliche Erinnerungen sorgen.</p>
                    </div>
                  </div>
                </div>
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          15:00
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Sektempfang</h3>
                      <p>Nach den Gruppenfotos laden wir euch herzlich zu einem Sektempfang ein. Hier können wir anstoßen
                        und uns gemeinsam auf den restlichen Tag freuen.</p>
                    </div>
                  </div>
                </div>
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          16:00
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Kaffee und Kuchen</h3>
                      <p>Nach dem Sektempfang treffen wir uns in der Grillhütte und lassen es uns bei Kaffee und Kuchen
                        gutgehen. Hier können wir uns stärken und uns auf den weiteren Verlauf des Tages freuen.</p>
                    </div>
                  </div>
                </div>
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          18:30
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Abendessen</h3>
                      <p>Wir haben ein köstliches BBQ für euch vorbereitet und freuen uns darauf, gemeinsam zu essen und
                        den Abend zu genießen.</p>
                    </div>
                  </div>
                </div>
                <div class="row timeline-entry">
                  <div class="col-lg-6 circle-container">
                    <div class="circle">
                      <div class="time-container">
                        <div class="time">
                          21:30
                        </div>
                        <div class="time-text">
                          Uhr
                        </div>
                      </div>
                    </div>
                    <div class="point"></div>
                  </div>
                  <div class="col-lg-6 description-container">
                    <div class="description">
                      <h3>Party</h3>
                      <p>Um den Abend gebührend zu feiern, haben wir einen DJ organisiert und freuen uns darauf, mit euch
                        zu tanzen und den Tag in unvergesslichen Erinnerungen ausklingen zu lassen.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <a id="Anfahrt"></a>
        </div>
        <div class="row pt-5">
          <div class="col">
            <h2>Anfahrt</h2>
          </div>
        </div>
        <div class="row ">
          <div class="col-lg-6">
            <div class="adress">
              <h2 class="lovingu">Dieterskirchel</h2>
              <p>Rheinzaberner Str. 13</p>
              <p>76761 Rülzheim</p>
            </div>
            <div class="adress-map">
              <iframe width="100%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                src="https://www.openstreetmap.org/export/embed.html?bbox=8.289592266082765%2C49.14075663105521%2C8.293132781982424%2C49.14227267655825&amp;layer=mapnik&amp;marker=49.14151465960389%2C8.291362524032593"></iframe>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="adress">
              <h2 class="lovingu">Grillhutte</h2>
              <p>Conrad-Rauh-Weg 2</p>
              <p>76877 Offenbach (Queich)</p>
            </div>
            <div class="adress-map">
              <iframe width="100%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                src="https://www.openstreetmap.org/export/embed.html?bbox=8.190036714076998%2C49.20248566023402%2C8.193577229976656%2C49.203999816533525&amp;layer=mapnik&amp;marker=49.2032427441791%2C8.191806972026825"></iframe>
            </div>
          </div>
          <a id="Bilder"></a>
        </div>
        <div class="row pt-5">
          <div class="col">
            <h2>Bilder</h2>
            <p>
              Wir möchten unsere Hochzeitserinnerungen gerne mit euch teilen und freuen uns sehr über alle Fotos und
              Videos, die ihr auf unserer Hochzeitswebsite hochladen möchtet. Eure Erinnerungen und Eindrücke sind uns
              sehr wichtig und werden unseren besonderen Tag unvergesslich machen. Wir freuen uns darauf, gemeinsam mit
              euch in Erinnerungen zu schwelgen und danken euch für eure Unterstützung!
            </p>
            <div class="upload-button-container">
              <a href="https://cloud.1js.de/s/a34GNymKSD3D66Z" target="_blank" type="button"
                class="btn btn-primary btn-lg">Bilder hochladen</a>
            </div>
          </div>
          <a id="FAQ"></a>
        </div>
        <div class="row pt-5">
          <div class="col faq">
            <h2>FAQ</h2>
            <div v-for="faq in faqs" :key="faq.id">
              <p>
                <button class="btn btn-link" data-bs-toggle="collapse" role="button" @click="invertFAQStatus(faq.id)">
                  <ChevronRight v-if="faq.state" />
                  <ChevronDown v-if="!faq.state" /> {{ faq.q }}
                </button>
              </p>
              <div class="collapse" :id="'faq-' + faq.id">
                <div class="card card-body">
                  {{ faq.a }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted, type Ref } from "vue";
import ChevronRight from 'vue-material-design-icons/ChevronRight.vue';
import ChevronDown from 'vue-material-design-icons/ChevronDown.vue';
import { Collapse } from "bootstrap";

let faqs = ref([
  {
    "id": 0,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  },
  {
    "id": 1,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  },
  {
    "id": 2,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  },
  {
    "id": 3,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  },
  {
    "id": 4,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  },
  {
    "id": 5,
    "q": "Sollen wir unser eigenes Bier mit bringen?",
    "a": "Nein natürlich nicht!",
    "state": false
  }
])

let faqStatus: Ref<Collapse[]> = ref(new Array<Collapse>());


console.log(faqStatus)

onMounted(() => {
  faqs.value.forEach((arrayItem, index) => {
    faqStatus.value.push(new Collapse('#faq-' + index, {
      toggle: false
    })
    );
  })
});

function invertFAQStatus(id: number) {
  faqs.value[id].state = !faqs.value[id].state;
  if (faqs.value[id].state) {
    faqStatus.value[id].show()
  }
  else {
    faqStatus.value[id].hide()
  }
}

</script>

<style lang="scss" scoped>
.upload-button-container {
  text-align: center;
}

.adress {
  p {
    margin-bottom: 0rem;
  }
}

.adress-map {
  iframe {
    margin-top: 1rem;
    padding: 0.5rem;
    background-color: $white;
    box-shadow: $default-shadow-wim;
  }
}

.faq {

  a,
  a:visited,
  a:active {
    color: $black;
  }

  a[aria-expanded="true"]::before {
    /* CSS-Regeln, wenn aria-expanded="true" */
    content: "󰅀";
  }

  a[aria-expanded="false"]::before {
    /* CSS-Regeln, wenn aria-expanded="false" */
    content: "󰅂";
  }
}

.timeline {

  position: relative;

  &::before {
    content: "";
    display: block;
    width: 2px;
    height: 100%;
    background: $black;
    margin: 0 auto;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
  }

  .timeline-entry {
    margin-bottom: 2rem;

    .circle-container {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      order: 1;

      &::before {
        content: "";
        width: 35%;
        height: 2px;
        background: $black;
        margin: auto 0;
        position: absolute;
        top: 0;
        right: 10px;
        bottom: 0;
      }

      .circle {
        width: 8rem;
        height: 8rem;
        position: relative;
        z-index: 0;
        display: table;

        .time-container {
          display: table-cell;
          text-align: center;
          vertical-align: middle;
        }

        &::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
          background-image: url("@/assets/images/circle.png");
          background-size: cover;
          transition: all 0.5s ease-in-out 0s;
        }
      }

      .point {

        &::before,
        &::after {
          content: "";
          display: block;
          width: 1rem;
          height: 1rem;
          margin: auto 0;
          position: absolute;
          top: 0;
          right: -0.5rem;
          bottom: 0;
          border-radius: 50%;
          transition: all 0.5s ease-in-out 0s;
          border: 2px solid $black;
        }

        &::before {
          transform: translateX(-0.25rem);
          background-color: #EFEDED;
        }

        &::after {
          transform: translateX(0.25rem);
        }
      }
    }

    .description-container {
      display: flex;
      align-items: center;
      order: 2;

      .description {
        padding-left: 4rem;
      }
    }

    &:nth-child(2n) {
      .circle-container {
        order: 2;

        &::before {
          left: 10px;
        }
      }

      .description-container {
        order: 1;
      }

      .point {

        &::before,
        &::after {
          left: -0.5rem;
        }
      }
    }
  }

  .timeline-entry:hover {
    .circle {
      &::before {
        rotate: 15deg;
      }
    }

    .point {
      &::before {
        transform: translateX(0.25rem);
      }

      &::after {
        transform: translateX(-0.25rem);
      }
    }
  }
}

@include media-breakpoint-down(xl) {
  .timeline {
    .timeline-entry {
      .circle-container::before {
        width: 30%
      }
    }
  }
}

@include media-breakpoint-down(lg) {
  .timeline {
    &::before {
      margin: 0;
    }

    .timeline-entry {

      .circle-container {
        order: 1 !important;

        &::before {
          display: none;
        }
      }

      .description-container {
        order: 2 !important;
      }

      .point {

        &::before,
        &::after {
          left: -0.5rem !important;
        }
      }
    }
  }
}
</style>